<!DOCTYPE html>
<html lang="tr">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0, user-scalable=no">
    <meta name="theme-color" content="#151522">
    <title>Garson Paneli</title>
    <script src="https://cdn.tailwindcss.com/3.4.16"></script>
    <script>
        tailwind.config = {
            theme: {
                extend: {
                    colors: {
                        primary: '#FF6B35',
                        secondary: '#1a1a25',
                        'glass-bg': 'rgba(26,26,37,0.8)',
                        'glass-border': 'rgba(255,255,255,0.08)',
                    },
                    backdropBlur: {
                        glass: '10px',
                    },
                    borderRadius: {
                        button: '8px'
                    },
                    fontFamily: {
                        'sans': ['Inter', 'sans-serif'],
                    },
                    animation: {
                        'fade-in': 'fadeIn 0.3s ease-in-out',
                        'fade-out': 'fadeOut 0.3s ease-in-out'
                    },
                    keyframes: {
                        fadeIn: {
                            '0%': { opacity: 0, transform: 'translateY(10px)' },
                            '100%': { opacity: 1, transform: 'translateY(0)' }
                        },
                        fadeOut: {
                            '0%': { opacity: 1, transform: 'translateY(0)' },
                            '100%': { opacity: 0, transform: 'translateY(10px)' }
                        }
                    }
                }
            }
        }
    </script>
    <link href="https://fonts.googleapis.com/css2?family=Inter:wght@300;400;500;600;700;800&display=swap" rel="stylesheet">
    <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/remixicon/4.6.0/remixicon.min.css">
    <script src="https://cdnjs.cloudflare.com/ajax/libs/lottie-web/5.10.2/lottie.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/vanilla-tilt/1.7.2/vanilla-tilt.min.js"></script>
    <script src="js/glow-effect.js"></script>
    <link rel="stylesheet" href="css/index.css">
    <style>
        /* Masa grid düzeni için özel stiller */
        #tablesGrid {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(120px, 1fr));
            gap: 12px;
            max-width: 1200px;
            margin: 0 auto;
            padding-bottom: 100px;
        }
        
        .table-card {
            height: 140px;
            cursor: pointer;
            transition: all 0.3s ease;
        }
        
        .table-card:hover {
            transform: translateY(-5px);
            box-shadow: 0 10px 25px -5px rgba(0, 0, 0, 0.3);
        }
        
        .table-card[data-status="calling"] {
            animation: pulse 1.5s infinite;
        }
        
        @keyframes pulse {
            0% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0.4); }
            70% { box-shadow: 0 0 0 10px rgba(239, 68, 68, 0); }
            100% { box-shadow: 0 0 0 0 rgba(239, 68, 68, 0); }
        }

        /* Sayfalama için stil */
        .pagination {
            position: fixed;
            bottom: 0;
            left: 0;
            right: 0;
            background: rgba(21, 21, 34, 0.9);
            backdrop-filter: blur(10px);
            padding: 10px;
            display: flex;
            justify-content: center;
            gap: 8px;
            border-top: 1px solid rgba(255, 255, 255, 0.1);
            z-index: 100;
        }
        
        .pagination-button {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 4px;
            padding: 6px 12px;
            color: white;
            cursor: pointer;
            transition: all 0.2s;
        }
        
        .pagination-button:hover {
            background: rgba(255, 107, 53, 0.2);
        }
        
        .pagination-button.active {
            background: rgba(255, 107, 53, 0.8);
            border-color: #FF6B35;
        }
        
        /* Arama kutusu */
        .search-container {
            margin-bottom: 16px;
            display: flex;
            max-width: 1200px;
            margin: 0 auto 16px;
        }
        
        .search-input {
            background: rgba(255, 255, 255, 0.1);
            border: 1px solid rgba(255, 255, 255, 0.2);
            border-radius: 8px;
            padding: 10px 16px;
            color: white;
            flex-grow: 1;
        }
        
        .search-input:focus {
            outline: none;
            border-color: #FF6B35;
        }
    </style>
</head>
<body class="bg-black text-white min-h-screen font-inter">

    <!-- Login Page -->
    <div id="loginPage" class="relative flex flex-col items-center justify-center p-6 text-center min-h-screen bg-gradient-to-br from-[#151522] to-black">
        <div class="relative w-full max-w-md bg-glass-bg backdrop-blur-glass border border-glass-border rounded-xl p-8 shadow-2xl overflow-hidden z-10">
            <div class="absolute inset-0 overflow-hidden">
                <div class="absolute -inset-[150%] opacity-20 bg-[radial-gradient(circle_farthest-side,rgba(255,107,53,.1),transparent)]"></div>
        </div>
            <div class="relative z-10">
                <h1 class="text-3xl font-bold mb-8 text-primary flex items-center justify-center"><i class="ri-user-voice-line mr-3"></i>Garson Girişi</h1>
                <div class="mb-5 text-left">
                    <label class="block text-sm font-medium mb-1 text-white" for="restaurantIdInput">Restaurant ID</label>
                    <input id="restaurantIdInput" type="text" class="w-full border rounded-button px-4 py-3 text-black focus:outline-none focus:ring-2 focus:ring-primary" placeholder="ABC123">
            </div>
                <div class="mb-8 text-left">
                    <label class="block text-sm font-medium mb-1 text-white" for="waiterNameInput">Garson Adı</label>
                    <input id="waiterNameInput" type="text" class="w-full border rounded-button px-4 py-3 text-black focus:outline-none focus:ring-2 focus:ring-primary" placeholder="Ahmet">
            </div>
                <button id="loginBtn" class="w-full bg-primary text-white py-4 rounded-lg font-semibold hover:bg-opacity-90 transition-all text-lg">
                <i class="ri-login-box-line mr-2"></i> Giriş Yap
            </button>
            </div>
        </div>
    </div>

    <!-- Dashboard Page -->
    <div id="dashboardPage" class="hidden min-h-screen flex flex-col bg-gradient-to-br from-[#151522] to-black">
        <header class="p-5 border-b border-gray-800 flex justify-between items-center bg-black bg-opacity-60 backdrop-blur-lg relative z-10">
            <div class="flex items-center">
                <i class="ri-restaurant-line text-primary text-3xl mr-3"></i>
                <h2 class="text-2xl font-bold text-white">Masalar</h2>
        </div>
            <div class="flex items-center space-x-3">
                <button id="testSoundBtn" class="bg-white bg-opacity-10 backdrop-blur-sm text-white px-4 py-2 rounded-button text-sm font-medium hover:bg-opacity-20 transition-all flex items-center">
                    <i class="ri-volume-up-line mr-2 text-lg"></i> Ses Testi
                </button>
                <button id="logoutBtn" class="text-white opacity-80 hover:opacity-100 hover:text-primary transition-colors">
                    <i class="ri-logout-box-r-line text-2xl"></i>
                </button>
            </div>
        </header>

        <main class="flex-1 overflow-y-auto p-6 relative z-10">
            <div class="search-container">
                <input type="text" id="searchInput" class="search-input" placeholder="Masa ara...">
            </div>
            
            <div id="tablesGrid" class="grid-container">
                <!-- Masa kartları dinamik olarak eklenecek -->
            </div>
            
            <div class="pagination" id="pagination">
                <!-- Sayfalama butonları dinamik olarak eklenecek -->
            </div>
        </main>
    </div>

    <!-- Toast bildirim alanı -->
    <div id="toastContainer" class="fixed bottom-4 right-4 space-y-2 z-50"></div>

    <!-- Modal -->
    <div id="callModal" class="fixed inset-0 bg-black bg-opacity-80 backdrop-blur-md flex items-center justify-center z-50 hidden">
        <div class="relative w-11/12 max-w-md p-8 rounded-2xl overflow-hidden bg-gradient-to-br from-[#151522] to-[#1f1520] border border-glass-border z-10">
            <div class="absolute inset-0 overflow-hidden">
                <div class="absolute -inset-[150%] opacity-40 bg-[radial-gradient(circle_farthest-side,rgba(255,0,30,.25),transparent)]"></div>
            </div>
            <div class="relative">
                <div class="flex justify-center mb-6">
                    <div class="relative">
                        <i class="ri-alarm-warning-fill text-red-500 text-6xl animate-pulse"></i>
                        <div class="absolute inset-0 bg-red-500 opacity-20 blur-lg rounded-full animate-pulse"></div>
                    </div>
                </div>
                <h3 class="text-2xl font-bold mb-2 text-center">Masa <span id="modalTableNo" class="text-red-400">0</span> Çağırıyor!</h3>
                <p class="text-gray-400 mb-6 text-center">Lütfen hemen yanıtlayın</p>
                
                <div class="w-full relative overflow-hidden mb-6">
                    <div class="wave-container h-12">
                        <div class="wave wave1" style="background-image: linear-gradient(to bottom, rgba(239,68,68,0.25), transparent); animation-duration: 7s;"></div>
                        <div class="wave wave2" style="background-image: linear-gradient(to bottom, rgba(239,68,68,0.15), transparent); animation-duration: 6s;"></div>
                        <div class="wave wave3" style="background-image: linear-gradient(to bottom, rgba(239,68,68,0.1), transparent); animation-duration: 5s;"></div>
                    </div>
                </div>
                
                <button id="modalAckBtn" class="w-full bg-primary text-white py-3 rounded-xl text-lg flex items-center justify-center gap-2 hover:bg-opacity-90 transition-colors">
                    <i class="ri-check-double-line text-xl"></i> Geliyorum
                </button>
            </div>
        </div>
    </div>

    <!-- Cordova -->
    <script src="cordova.js"></script>
    <!-- Supabase -->
    <script src="https://cdn.jsdelivr.net/npm/@supabase/supabase-js@2"></script>
    <!-- Waiter Dashboard JS -->
    <script src="waiter-dashboard.js"></script>
</body>
</html> 